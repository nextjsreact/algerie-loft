# =====================================================
# PRODUCTION ENVIRONMENT CONFIGURATION TEMPLATE
# =====================================================
# Copy this file to .env.production and fill in the actual values
# Requirements: 10.1, 10.2
# =====================================================

# =====================================================
# DATABASE CONFIGURATION
# =====================================================
# Supabase Production Database
DATABASE_URL="postgresql://postgres:[PASSWORD]@[PROJECT_REF].supabase.co:5432/postgres"
SUPABASE_URL="https://[PROJECT_REF].supabase.co"
SUPABASE_ANON_KEY="[SUPABASE_ANON_KEY]"
SUPABASE_SERVICE_ROLE_KEY="[SUPABASE_SERVICE_ROLE_KEY]"

# Database Connection Pool Settings
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=10000

# =====================================================
# APPLICATION CONFIGURATION
# =====================================================
# Environment
NODE_ENV=production
NEXT_PUBLIC_APP_ENV=production

# Application URLs
NEXT_PUBLIC_APP_URL="https://your-domain.com"
NEXT_PUBLIC_API_URL="https://your-domain.com/api"

# Security
NEXTAUTH_URL="https://your-domain.com"
NEXTAUTH_SECRET="[GENERATE_STRONG_SECRET_32_CHARS_MIN]"
JWT_SECRET="[GENERATE_STRONG_JWT_SECRET_32_CHARS_MIN]"

# CSRF Protection
CSRF_SECRET="[GENERATE_STRONG_CSRF_SECRET]"

# =====================================================
# AUTHENTICATION & AUTHORIZATION
# =====================================================
# Session Configuration
SESSION_TIMEOUT=3600000
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict

# Password Requirements
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# Account Lockout
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000

# =====================================================
# EMAIL CONFIGURATION
# =====================================================
# SMTP Settings for Production
SMTP_HOST="smtp.your-provider.com"
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER="[SMTP_USERNAME]"
SMTP_PASS="[SMTP_PASSWORD]"

# Email Templates
EMAIL_FROM="noreply@your-domain.com"
EMAIL_FROM_NAME="Loft Algerie"
EMAIL_REPLY_TO="support@your-domain.com"

# Email Service Provider (alternative to SMTP)
# SENDGRID_API_KEY="[SENDGRID_API_KEY]"
# MAILGUN_API_KEY="[MAILGUN_API_KEY]"
# MAILGUN_DOMAIN="[MAILGUN_DOMAIN]"

# =====================================================
# PAYMENT PROCESSING
# =====================================================
# Payment Gateway Configuration
PAYMENT_PROVIDER="stripe" # or "paypal", "cib", etc.

# Stripe Configuration
STRIPE_PUBLISHABLE_KEY="pk_live_[STRIPE_LIVE_PUBLISHABLE_KEY]"
STRIPE_SECRET_KEY="sk_live_[STRIPE_LIVE_SECRET_KEY]"
STRIPE_WEBHOOK_SECRET="whsec_[STRIPE_WEBHOOK_SECRET]"

# PayPal Configuration (if using PayPal)
# PAYPAL_CLIENT_ID="[PAYPAL_LIVE_CLIENT_ID]"
# PAYPAL_CLIENT_SECRET="[PAYPAL_LIVE_CLIENT_SECRET]"
# PAYPAL_WEBHOOK_ID="[PAYPAL_WEBHOOK_ID]"

# Local Payment Methods (Algeria)
CIB_MERCHANT_ID="[CIB_MERCHANT_ID]"
CIB_API_KEY="[CIB_API_KEY]"
CIB_WEBHOOK_SECRET="[CIB_WEBHOOK_SECRET]"

# =====================================================
# FILE STORAGE & CDN
# =====================================================
# Supabase Storage
SUPABASE_STORAGE_BUCKET="loft-images"
NEXT_PUBLIC_SUPABASE_STORAGE_URL="https://[PROJECT_REF].supabase.co/storage/v1/object/public"

# CDN Configuration
CDN_URL="https://cdn.your-domain.com"
CDN_ENABLED=true

# Image Optimization
NEXT_PUBLIC_IMAGE_DOMAINS="[PROJECT_REF].supabase.co,cdn.your-domain.com"
IMAGE_QUALITY=85
IMAGE_FORMATS="webp,jpg,png"

# File Upload Limits
MAX_FILE_SIZE=10485760
MAX_FILES_PER_UPLOAD=10
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/webp"

# =====================================================
# CACHING & PERFORMANCE
# =====================================================
# Redis Configuration (if using Redis for caching)
REDIS_URL="redis://[REDIS_HOST]:[REDIS_PORT]"
REDIS_PASSWORD="[REDIS_PASSWORD]"

# Cache Settings
CACHE_TTL_DEFAULT=3600
CACHE_TTL_LOFTS=1800
CACHE_TTL_AVAILABILITY=300
CACHE_TTL_PRICING=600

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# =====================================================
# MONITORING & LOGGING
# =====================================================
# Application Monitoring
SENTRY_DSN="[SENTRY_DSN]"
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE="[APP_VERSION]"

# Performance Monitoring
NEW_RELIC_LICENSE_KEY="[NEW_RELIC_LICENSE_KEY]"
NEW_RELIC_APP_NAME="Loft Algerie Production"

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH="/var/log/loft-algerie/app.log"
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10

# Database Query Logging
DB_LOG_QUERIES=false
DB_LOG_SLOW_QUERIES=true
DB_SLOW_QUERY_THRESHOLD=1000

# =====================================================
# SECURITY CONFIGURATION
# =====================================================
# HTTPS & SSL
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# CORS Configuration
CORS_ORIGIN="https://your-domain.com"
CORS_CREDENTIALS=true

# Security Headers
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
REFERRER_POLICY=strict-origin-when-cross-origin

# API Security
API_RATE_LIMIT=1000
API_RATE_LIMIT_WINDOW=3600000
API_KEY_REQUIRED=false

# =====================================================
# INTERNATIONALIZATION
# =====================================================
# Default Language & Locale
DEFAULT_LOCALE=fr
SUPPORTED_LOCALES=fr,ar,en
FALLBACK_LOCALE=fr

# Currency & Formatting
DEFAULT_CURRENCY=DZD
SUPPORTED_CURRENCIES=DZD,EUR,USD
CURRENCY_API_KEY="[CURRENCY_API_KEY]"

# Date & Time
DEFAULT_TIMEZONE=Africa/Algiers
DATE_FORMAT=DD/MM/YYYY
TIME_FORMAT=HH:mm

# =====================================================
# BUSINESS CONFIGURATION
# =====================================================
# Reservation Settings
MIN_ADVANCE_BOOKING_HOURS=24
MAX_ADVANCE_BOOKING_DAYS=365
DEFAULT_CHECK_IN_TIME=15:00
DEFAULT_CHECK_OUT_TIME=11:00

# Pricing Configuration
DEFAULT_TAX_RATE=19.0
DEFAULT_SERVICE_FEE_RATE=10.0
CURRENCY_CONVERSION_ENABLED=true

# Booking Rules
ALLOW_SAME_DAY_BOOKING=false
REQUIRE_PHONE_VERIFICATION=true
REQUIRE_EMAIL_VERIFICATION=true

# =====================================================
# THIRD-PARTY INTEGRATIONS
# =====================================================
# Google Services
GOOGLE_MAPS_API_KEY="[GOOGLE_MAPS_API_KEY]"
GOOGLE_ANALYTICS_ID="G-[GOOGLE_ANALYTICS_ID]"
GOOGLE_TAG_MANAGER_ID="GTM-[GTM_ID]"

# Social Media Integration
FACEBOOK_APP_ID="[FACEBOOK_APP_ID]"
INSTAGRAM_ACCESS_TOKEN="[INSTAGRAM_ACCESS_TOKEN]"

# Communication Services
WHATSAPP_BUSINESS_API_KEY="[WHATSAPP_API_KEY]"
SMS_PROVIDER_API_KEY="[SMS_PROVIDER_API_KEY]"

# =====================================================
# BACKUP & DISASTER RECOVERY
# =====================================================
# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH="/backups"

# Cloud Backup
CLOUD_BACKUP_ENABLED=true
CLOUD_BACKUP_PROVIDER="aws-s3"
AWS_S3_BUCKET="loft-algerie-backups"
AWS_ACCESS_KEY_ID="[AWS_ACCESS_KEY_ID]"
AWS_SECRET_ACCESS_KEY="[AWS_SECRET_ACCESS_KEY]"
AWS_REGION="eu-west-1"

# =====================================================
# FEATURE FLAGS
# =====================================================
# Feature Toggles
FEATURE_ONLINE_PAYMENTS=true
FEATURE_INSTANT_BOOKING=true
FEATURE_MULTI_LANGUAGE=true
FEATURE_MOBILE_APP_API=true
FEATURE_ADMIN_DASHBOARD=true
FEATURE_ANALYTICS_TRACKING=true

# Experimental Features
EXPERIMENTAL_AI_RECOMMENDATIONS=false
EXPERIMENTAL_DYNAMIC_PRICING=false
EXPERIMENTAL_VIRTUAL_TOURS=false

# =====================================================
# DEVELOPMENT & DEBUGGING (Production: false/disabled)
# =====================================================
# Debug Settings (MUST be false in production)
DEBUG=false
NEXT_PUBLIC_DEBUG=false
VERBOSE_LOGGING=false

# Development Tools (MUST be disabled in production)
REACT_DEVTOOLS=false
REDUX_DEVTOOLS=false
WEBPACK_BUNDLE_ANALYZER=false

# =====================================================
# HEALTH CHECKS & MONITORING
# =====================================================
# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH="/api/health"
HEALTH_CHECK_TIMEOUT=5000

# Uptime Monitoring
UPTIME_ROBOT_API_KEY="[UPTIME_ROBOT_API_KEY]"
PINGDOM_API_KEY="[PINGDOM_API_KEY]"

# Performance Thresholds
RESPONSE_TIME_THRESHOLD=2000
ERROR_RATE_THRESHOLD=1.0
CPU_USAGE_THRESHOLD=80.0
MEMORY_USAGE_THRESHOLD=85.0

# =====================================================
# DEPLOYMENT CONFIGURATION
# =====================================================
# Build Configuration
BUILD_OPTIMIZATION=true
BUNDLE_ANALYZER=false
SOURCE_MAPS=false

# Deployment Settings
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_REGION=eu-west-1
AUTO_SCALING_ENABLED=true
MIN_INSTANCES=2
MAX_INSTANCES=10

# Container Configuration (if using Docker)
CONTAINER_PORT=3000
CONTAINER_MEMORY_LIMIT=1024MB
CONTAINER_CPU_LIMIT=1.0

# =====================================================
# COMPLIANCE & LEGAL
# =====================================================
# GDPR Compliance
GDPR_ENABLED=true
COOKIE_CONSENT_REQUIRED=true
DATA_RETENTION_DAYS=2555

# Legal Information
COMPANY_NAME="Loft Algerie"
COMPANY_ADDRESS="[COMPANY_ADDRESS]"
COMPANY_PHONE="[COMPANY_PHONE]"
COMPANY_EMAIL="legal@your-domain.com"

# Terms & Privacy
TERMS_VERSION="1.0"
PRIVACY_POLICY_VERSION="1.0"
COOKIE_POLICY_VERSION="1.0"

# =====================================================
# NOTES FOR DEPLOYMENT
# =====================================================
# 1. Replace all [PLACEHOLDER] values with actual production values
# 2. Generate strong secrets using: openssl rand -base64 32
# 3. Ensure all API keys are for production environments
# 4. Test all integrations in staging before production deployment
# 5. Set up monitoring and alerting for all critical services
# 6. Configure SSL certificates and HTTPS redirects
# 7. Set up automated backups and test recovery procedures
# 8. Configure CDN and caching for optimal performance
# 9. Set up log aggregation and monitoring
# 10. Implement security scanning and vulnerability monitoring