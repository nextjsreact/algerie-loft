@tailwind base;
@tailwind components;
@tailwind utilities;

@import '../styles/conversations.css';
@import '../styles/whatsapp.css';

@layer base {
  :root {
    --background: 210 20% 95%; /* Light grey-blue */
    --foreground: 230 25% 10%; /* Dark text */
    --card: 210 20% 98%;
    --card-foreground: 230 25% 10%;
    --popover: 210 20% 98%;
    --popover-foreground: 230 25% 10%;
    --primary: 200 90% 40%; /* Darker electric blue */
    --primary-foreground: 210 40% 98%; /* Light text on primary */
    --secondary: 210 10% 85%;
    --secondary-foreground: 230 25% 10%;
    --muted: 210 10% 80%;
    --muted-foreground: 215 10% 40%;
    --accent: 290 80% 45%; /* Darker magenta/purple */
    --accent-foreground: 230 25% 10%;
    --destructive: 0 80% 60%;
    --destructive-foreground: 210 40% 98%;
    --border: 210 10% 70%;
    --input: 210 10% 70%;
    --ring: 200 90% 40%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
    --sidebar-background: 210 20% 90%;
    --sidebar-foreground: 230 25% 15%;
    --sidebar-primary: 200 90% 30%;
    --sidebar-primary-foreground: 210 40% 98%;
    --sidebar-accent: 210 10% 80%;
    --sidebar-accent-foreground: 230 25% 15%;
    --sidebar-border: 210 10% 70%;
    --sidebar-ring: 200 90% 40%;
  }
  .dark {
    --background: 230 25% 10%; /* Deep charcoal/blue */
    --foreground: 210 40% 98%; /* Off-white */
    --card: 230 25% 12%;
    --card-foreground: 210 40% 98%;
    --popover: 230 25% 12%;
    --popover-foreground: 210 40% 98%;
    --primary: 200 90% 60%; /* Vibrant electric blue */
    --primary-foreground: 230 25% 10%; /* Dark text on vibrant primary */
    --secondary: 230 15% 20%; /* Muted dark grey-blue */
    --secondary-foreground: 210 40% 98%;
    --muted: 230 15% 25%;
    --muted-foreground: 215 10% 60%;
    --accent: 290 80% 65%; /* Vibrant magenta/purple */
    --accent-foreground: 210 40% 98%;
    --destructive: 0 80% 50%;
    --destructive-foreground: 210 40% 98%;
    --border: 230 15% 30%;
    --input: 230 15% 30%;
    --ring: 200 90% 60%; /* Primary blue for focus rings */
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --sidebar-background: 230 25% 15%;
    --sidebar-foreground: 210 40% 95%;
    --sidebar-primary: 200 90% 65%;
    --sidebar-primary-foreground: 230 25% 10%;
    --sidebar-accent: 230 15% 25%;
    --sidebar-accent-foreground: 210 40% 95%;
    --sidebar-border: 230 15% 30%;
    --sidebar-ring: 200 90% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

body {
  font-family: "Inter", sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Animations personnalisées pour les méthodes de paiement */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-fadeInUp {
  animation: fadeInUp 0.6s ease-out forwards;
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

/* Utilitaires pour le texte tronqué */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Amélioration des transitions pour les cartes */
.payment-method-card {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.payment-method-card:hover {
  transform: translateY(-4px) scale(1.02);
}

/* Styles pour les badges colorés */
.badge-gradient {
  background: linear-gradient(135deg, var(--badge-from), var(--badge-to));
}

/* ========================================
   PLACEHOLDER VISIBILITY IMPROVEMENTS
   ======================================== */

/* Universal placeholder rules - Force visibility across all input types */
input::placeholder,
textarea::placeholder,
select::placeholder,
*::placeholder {
  color: #9ca3af !important; /* gray-400 - Optimal visibility */
  opacity: 1 !important; /* Remove any transparency */
}

/* Specific input type placeholders */
input[type="email"]::placeholder,
input[type="password"]::placeholder,
input[type="text"]::placeholder,
input[type="number"]::placeholder,
input[type="tel"]::placeholder,
input[type="url"]::placeholder,
input[type="search"]::placeholder {
  color: #9ca3af !important;
  opacity: 1 !important;
}

/* Date input placeholder styles - WebKit specific */
input[type="date"]::placeholder {
  color: #9ca3af !important;
  opacity: 1 !important;
}

/* WebKit date input components styling */
input[type="date"]::-webkit-datetime-edit-text,
input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field {
  color: #9ca3af !important;
}

input[type="date"]::-webkit-input-placeholder {
  color: #9ca3af !important;
  opacity: 1 !important;
}

/* Radix UI Select component placeholders */
[data-placeholder] {
  color: #9ca3af !important;
}

[data-radix-select-trigger][data-placeholder] {
  color: #9ca3af !important;
}

[data-radix-select-trigger] [data-placeholder] {
  color: #9ca3af !important;
}

/* Custom select placeholder classes */
.select-placeholder,
[data-placeholder="true"] {
  color: #9ca3af !important;
}

/* Tailwind placeholder utility classes - Enhanced */
.placeholder\\:text-gray-400::placeholder {
  color: #9ca3af !important;
}

.placeholder\\:text-gray-300::placeholder {
  color: #d1d5db !important;
}

.placeholder\\:text-gray-200::placeholder {
  color: #e5e7eb !important;
}

/* Ensure Radix UI Select triggers maintain proper text color */
[data-radix-select-trigger]:not([data-placeholder]) {
  color: inherit;
}
/* FORCE PLACEHOLDER VISIBILITY - ADDITIONAL RULES */
input:not([value]):not(:focus)::placeholder,
textarea:not([value]):not(:focus)::placeholder {
  color: #6b7280 !important; /* gray-500 - Even more visible */
  opacity: 1 !important;
  font-weight: 400 !important;
}

/* Specific targeting for form inputs */
.bg-white input::placeholder,
.bg-white textarea::placeholder {
  color: #6b7280 !important;
  opacity: 1 !important;
}

/* Force visibility on empty inputs */
input:placeholder-shown::placeholder,
textarea:placeholder-shown::placeholder {
  color: #6b7280 !important;
  opacity: 1 !important;
}


input[placeholder]:not([value])::placeholder,
input[placeholder][value=""]::placeholder,
textarea[placeholder]:not([value])::placeholder,
textarea[placeholder][value=""]::placeholder {
  color: #374151 !important; /* gray-700 - Very dark and visible */
  opacity: 1 !important;
  font-weight: 500 !important;
  font-size: 14px !important;
}

/* Force placeholder visibility on React Hook Form controlled inputs */
input[data-testid]:placeholder-shown::placeholder,
input[name]:placeholder-shown::placeholder,
textarea[name]:placeholder-shown::placeholder {
  color: #374151 !important;
  opacity: 1 !important;
  font-weight: 500 !important;
}

/* Placeholders normaux pour le formulaire propriétaire */
#name::placeholder,
#email::placeholder,
#phone::placeholder,
#address::placeholder {
  color: #9ca3af !important; /* gray-400 - Couleur normale */
  opacity: 1 !important;
  font-weight: normal !important;
}

/* Espacement des mots arabes sans RTL */
html[lang="ar"] * {
  word-spacing: 0.25em !important;
}

html[lang="ar"] nav *,
html[lang="ar"] [data-testid="sidebar"] *,
html[lang="ar"] button *,
html[lang="ar"] a * {
  word-spacing: 0.3em !important;
}

/* Fallback pour tous les éléments si lang n'est pas détecté */
body.arabic-text * {
  word-spacing: 0.25em !important;
}